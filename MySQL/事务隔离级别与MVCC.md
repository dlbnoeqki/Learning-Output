## 事务特性

- 原子性
- 一致性
- 隔离性
- 持久性
## 事务并发执行问题
### 脏写

针对同一记录，一个事务修改了另一个**未提交事务**修改过的数据。
### 脏读

针对同一记录，一个事务读取到了另一个**未提交事务**修改过的数据。
### 不可重复读

针对同一记录，在一个事务内，总能读取到其他已提交事务修改过的数据。
### 幻读

一个事务按照相同条件多次读取记录，后读取时读到了之前没有读到的记录。如果没有读到之前的已经读过的数据，算不可重复读。

按照问题的严重性排序：脏写 > 脏读 > 不可重复读 > 幻读
## 隔离级别

根据事务四大特性之一“隔离性”：理论上，不同事务访问同一数据需要排队访问，但是这样对性能影响太大。所以需要舍弃一部分隔离性来提高性能。
SQL标准中设立4个隔离级别：
- ==READ UNCOMMITTED==：未提交读；可能发生：脏读、不可重复读、幻读
- ==READ COMMITTED==：已提交读；可能发生：不可重复读、幻读
- ==REPEATABLE READ==：可重复读；可能发生：幻读
- ==SERIALIZABLE==：可串行化；
脏写问题在任何隔离级别都不会发生。

### 设置事务的隔离级别

``` shell
# 查看数据库的隔离级别
SELECT @@global.transaction_isolation;
# 设置数据库的隔离级别
SET [GLOBAL|SESSION] TRANSACTION ISOLATION LEVEL level;
``````